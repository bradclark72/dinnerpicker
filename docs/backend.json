{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Random Eats application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "registrationDate": {
          "type": "string",
          "description": "The date and time the user registered.",
          "format": "date-time"
        },
        "spinsRemaining": {
          "type": "number",
          "description": "The number of free restaurant picks the user has left."
        },
        "membership": {
          "type": "string",
          "description": "The user's membership status.",
          "enum": ["free", "monthly", "lifetime"]
        }
      },
      "required": [
        "id",
        "email",
        "registrationDate",
        "spinsRemaining",
        "membership"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user profile information, including spin counts and membership status. Uses path-based ownership for security.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user, corresponding to their Firebase Authentication UID."
            }
          ]
        }
      }
    ],
    "reasoning": "This Firestore structure focuses on a simple user authentication system using email/password. The primary collection is `/users/{userId}`, where each document stores user profile information. Path-based ownership is used, meaning that only the authenticated user can access their own document. This design prioritizes simplicity for the specified authentication requirements, which is the core requirement specified by the prompt."
  }
}
